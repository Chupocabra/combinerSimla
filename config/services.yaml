imports:
    - { resource: resources/ }

parameters:
    crm.api_url: '%env(string:CRM_API_URL)%'
    crm.api_key: '%env(string:CRM_API_KEY)%'
    cached_data_path: '%env(string:CACHED_DATA_PATH)%'
    report_path: '%env(string:REPORT_PATH)%'

services:
    _defaults:
        autowire: true
        autoconfigure: true

    App\:
        resource: '../src/'
        exclude:
            - '../src/DependencyInjection/'
            - '../src/Entity/'
            - '../src/Kernel.php'

    monolog.formatter.pretty:
        class: Monolog\Formatter\LineFormatter
        arguments:
            - "[%%datetime%%] %%channel%%.%%level_name%%: %%message%% %%context%% %%extra%%\n"
            - "Y-m-d H:i:s"
            - true
            - true

    App\Service\Simla\ApiWrapper:
        class: 'App\Service\Simla\ApiWrapper'
        arguments:
            $httpClient: '@http_client_simla.guzzle'
